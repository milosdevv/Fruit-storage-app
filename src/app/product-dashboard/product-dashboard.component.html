<app-create-product-card 
*ngIf="showCreateProductForm" 
(closeForm)="CloseCreateProductForm()"
(emitProductData)="createOrUpdateProduct($event)"
[isEditMode]="editMode"
[selectedProduct]="selectedProduct"></app-create-product-card>

<app-product-details *ngIf="showProductDetails"
(closeDetailView)="closeProductDetails()"
[currentProduct]="currentProduct"></app-product-details>

<div class="dashboard-container">
    <div class="dashboard-wrapper">
        <div>
            <h2>Artikli</h2>
        </div>
        <div>
            <button class="btn" (click)="openCreateProductForm()">Kreiraj</button>
            <!-- <button class="create-btn" (click)="getAllProducts()">Fetch Tasks</button> -->
            <button class="btn" (click)="deleteAllproducts()" *ngIf="allProducts.length > 0">Obrisi sve</button>
        </div>
    </div>

    <hr>

    <div class="dashboard-item-container">
      <div class="loader" *ngIf="isLoading"></div>
      <ng-container *ngIf="!isLoading">
        <div *ngIf="allProducts.length < 1">
          <h2 class="dashboard-item-heading">No products has been created yet!</h2>
      </div>
      <div class="content-item" [ngClass]="'priority-' + product.productPriority" *ngFor="let product of allProducts">
        <div class="content-title">
          <h3>Product</h3>
        </div>
        <p><b>Naziv: {{product.productName}}</b></p>
        <p><b>Tip: {{product.productType}}</b></p>
        <p><b>Klasa: {{product.productClass}}</b></p>
        <p><b>Datum primanja: {{product.productDateOfEntry}}</b></p>
        <p><b>Datum isteka: {{product.productExpiryDate}}</b></p>
        <p><b>Priority: {{product.productPriority}}</b></p>
        <p><b>Status: {{product.productStatus}}</b></p>
        <div class="action-icons">
          <button class="action-btn" title="Detail" (click)="showCurrentProductDetails(product.id)">
            <i class="fa fa-info-circle" aria-hidden="true"></i>
          </button>
          <button class="action-btn" title="Edit" (click)="onEditProductClick(product.id)">
            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
          </button>
          <button class="action-btn"title="Delete" (click)="deleteProduct(product.id)">
            <i class="fa fa-trash" aria-hidden="true"></i>
          </button>
        </div>
      </div>
      </ng-container>
      </div>
</div>